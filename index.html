<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c7873, #1f5c58);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ */
        .rehab-types {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 20px;
            background: #f8f9fa;
        }
        .rehab-type {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid #e9ecef;
        }
        .rehab-type.active {
            border-color: #2c7873;
            background: #d4edda;
        }
        .rehab-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        /* –≠—Ç–∞–ø—ã —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ */
        .rehab-stages {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 20px;
            background: #e8f4f3;
        }
        .stage {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e9ecef;
        }
        .stage.active {
            border-color: #00b894;
            background: #d4edda;
        }
        .stage-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #00b894;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .rehab-types, .rehab-stages {
                grid-template-columns: 1fr;
            }
        }
        
        .video-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 3px solid #e9ecef;
        }
        .video-container {
            position: relative;
            margin-bottom: 20px;
        }
        video {
            width: 100%;
            border-radius: 10px;
            border: 3px solid #2c7873;
        }
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        button {
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: #2c7873;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        button:hover {
            background: #1f5c58;
            transform: translateY(-2px);
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .primary-btn {
            background: #00b894;
        }
        .primary-btn:hover {
            background: #00a085;
        }
        
        .exercises-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        .exercise-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .exercise-card:hover {
            border-color: #2c7873;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .exercise-card.active {
            border-color: #00b894;
            background: #d4edda;
        }
        .exercise-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .exercise-difficulty {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            margin-top: 5px;
        }
        .easy { background: #d4edda; color: #155724; }
        .medium { background: #fff3cd; color: #856404; }
        .hard { background: #f8d7da; color: #721c24; }
        
        .results-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 3px solid #e9ecef;
        }
        .progress-container {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 15px 0;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            border-radius: 10px;
            transition: width 0.5s;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c7873;
        }
        .rehab-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #2c7873;
        }
        .feedback-log {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            border: 2px solid #e9ecef;
        }
        .log-entry {
            padding: 8px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .log-entry:last-child {
            border-bottom: none;
        }
        .success { color: #00b894; }
        .warning { color: #fdcb6e; }
        .error { color: #e17055; }
        .timer {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            color: #2c7873;
            margin: 20px 0;
        }
        .stage-info {
            background: #e8f4f3;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .medical-alert {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è</h1>
            <p>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–∞–≤–º –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π</p>
        </div>
        
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ -->
        <div class="rehab-types">
            <div class="rehab-type active" onclick="selectRehabType('leg')">
                <div class="rehab-icon">ü¶µ</div>
                <div><strong>–ü–µ—Ä–µ–ª–æ–º –Ω–æ–≥–∏</strong></div>
                <div style="font-size: 0.9em; color: #666;">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ª–æ–º–∞</div>
            </div>
            <div class="rehab-type" onclick="selectRehabType('arm')">
                <div class="rehab-icon">üí™</div>
                <div><strong>–ü–µ—Ä–µ–ª–æ–º —Ä—É–∫–∏</strong></div>
                <div style="font-size: 0.9em; color: #666;">–†–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è –≤–µ—Ä—Ö–Ω–∏—Ö –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–µ–π</div>
            </div>
            <div class="rehab-type" onclick="selectRehabType('stroke')">
                <div class="rehab-icon">üß†</div>
                <div><strong>–ü–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞</strong></div>
                <div style="font-size: 0.9em; color: #666;">–ù–µ–≤—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è</div>
            </div>
        </div>
        
        <!-- –≠—Ç–∞–ø—ã —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ -->
        <div class="rehab-stages" id="rehabStages">
            <!-- –≠—Ç–∞–ø—ã –±—É–¥—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å—Å—è -->
        </div>
        
        <div class="main-content">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –≤–∏–¥–µ–æ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
            <div class="video-section">
                <div class="stage-info" id="stageInfo">
                    <strong>–†–∞–Ω–Ω–∏–π —ç—Ç–∞–ø (1-2 –Ω–µ–¥–µ–ª—è):</strong> –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–¥—è –∏–ª–∏ –ª–µ–∂–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
                </div>
                
                <div class="medical-alert" id="medicalAlert">
                    ‚ö†Ô∏è –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º!
                </div>
                
                <div class="video-container">
                    <video id="video" width="640" height="480" autoplay muted></video>
                </div>
                
                <div class="controls">
                    <button onclick="startCamera()" id="cameraBtn">
                        üì∑ –í–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É
                    </button>
                    <button onclick="toggleAnalysis()" id="analysisBtn" disabled class="primary-btn">
                        ‚èØÔ∏è –ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑
                    </button>
                    <button onclick="showInstructions()" id="instructionsBtn">
                        üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
                    </button>
                    <button onclick="showPrecautions()" id="precautionsBtn">
                        ‚ö†Ô∏è –ú–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏
                    </button>
                </div>

                <div class="timer" id="timer">00:00</div>

                <h3>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞:</h3>
                <div class="exercises-grid" id="exercisesGrid">
                    <!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="results-section">
                <div class="rehab-info">
                    <h3>üéØ –¢–µ–∫—É—â–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏</h3>
                    <div id="currentProgram">–ü–µ—Ä–µ–ª–æ–º –Ω–æ–≥–∏ - –†–∞–Ω–Ω–∏–π —ç—Ç–∞–ø</div>
                    <div id="stageGoals"></div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="accuracy">0%</div>
                        <div>–¢–æ—á–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="duration">0:00</div>
                        <div>–í—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="repetitions">0</div>
                        <div>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</div>
                    </div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>

                <div id="liveFeedback" style="
                    padding: 15px;
                    margin: 15px 0;
                    border-radius: 10px;
                    background: #fff3cd;
                    font-size: 1.1em;
                    min-height: 80px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    text-align: center;
                ">
                    –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∞–ª–∞
                </div>

                <h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:</h4>
                <div class="feedback-log" id="feedbackLog">
                    <div class="log-entry">–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const video = document.getElementById('video');
        const cameraBtn = document.getElementById('cameraBtn');
        const analysisBtn = document.getElementById('analysisBtn');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progressBar');
        const accuracyDisplay = document.getElementById('accuracy');
        const durationDisplay = document.getElementById('duration');
        const repetitionsDisplay = document.getElementById('repetitions');
        const liveFeedback = document.getElementById('liveFeedback');
        const feedbackLog = document.getElementById('feedbackLog');
        const exercisesGrid = document.getElementById('exercisesGrid');
        const stageInfo = document.getElementById('stageInfo');
        const currentProgramDisplay = document.getElementById('currentProgram');
        const stageGoalsDisplay = document.getElementById('stageGoals');
        const rehabStages = document.getElementById('rehabStages');
        const medicalAlert = document.getElementById('medicalAlert');

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let state = {
            isCameraOn: false,
            isAnalyzing: false,
            currentExercise: null,
            currentRehabType: 'leg',
            currentStage: 1,
            startTime: null,
            timerInterval: null,
            repetitions: 0,
            accuracy: 0,
            sessionDuration: 0
        };

        // –¢–∏–ø—ã —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏
        const rehabTypes = {
            leg: {
                name: "–ü–µ—Ä–µ–ª–æ–º –Ω–æ–≥–∏",
                icon: "ü¶µ",
                stages: {
                    1: {
                        name: "–†–∞–Ω–Ω–∏–π —ç—Ç–∞–ø (1-2 –Ω–µ–¥–µ–ª—è)",
                        description: "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–¥—è –∏–ª–∏ –ª–µ–∂–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—É—é –Ω–æ–≥—É",
                        goals: "–°–Ω–∏–∂–µ–Ω–∏–µ –æ—Ç–µ–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –º—ã—à–µ—á–Ω–æ–≥–æ —Ç–æ–Ω—É—Å–∞, —É–ª—É—á—à–µ–Ω–∏–µ –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏—è",
                        precautions: "–ò–∑–±–µ–≥–∞–π—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—É—é –Ω–æ–≥—É, –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ"
                    },
                    2: {
                        name: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (3-6 –Ω–µ–¥–µ–ª—è)", 
                        description: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Å—Ç–æ—è —Å –æ–ø–æ—Ä–æ–π",
                        goals: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–≤–∏–∂–µ–Ω–∏—è, —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –º—ã—à—Ü –±–µ–¥—Ä–∞ –∏ –≥–æ–ª–µ–Ω–∏",
                        precautions: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –±–æ–ª–µ–≤—ã–µ –æ—â—É—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–æ—Ä—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏"
                    },
                    3: {
                        name: "–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ (7-12 –Ω–µ–¥–µ–ª—è)",
                        description: "–ê–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞",
                        goals: "–ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–ª—ã, —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∏ –±–∞–ª–∞–Ω—Å–∞",
                        precautions: "–ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä—ã–∂–∫–æ–≤ –∏ –±–µ–≥–∞, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ—Ö–Ω–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"
                    },
                    4: {
                        name: "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (13+ –Ω–µ–¥–µ–ª—è)",
                        description: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
                        goals: "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ö–æ–¥—å–±–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º –Ω–∞–≥—Ä—É–∑–∫–∞–º",
                        precautions: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å —É—Å—Ç–∞–ª–æ—Å—Ç–∏"
                    }
                }
            },
            arm: {
                name: "–ü–µ—Ä–µ–ª–æ–º —Ä—É–∫–∏",
                icon: "üí™",
                stages: {
                    1: {
                        name: "–ò–º–º–æ–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —ç—Ç–∞–ø (1-3 –Ω–µ–¥–µ–ª—è)",
                        description: "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –∑–¥–æ—Ä–æ–≤—ã—Ö —Å—É—Å—Ç–∞–≤–æ–≤, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞",
                        goals: "–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –æ–±—â–µ–≥–æ —Ç–æ–Ω—É—Å–∞, –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –æ—Å–ª–æ–∂–Ω–µ–Ω–∏–π",
                        precautions: "–ù–µ –¥–≤–∏–≥–∞–π—Ç–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–π —Ä—É–∫–æ–π, –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è"
                    },
                    2: {
                        name: "–ü–æ—Å—Ç–∏–º–º–æ–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π (4-6 –Ω–µ–¥–µ–ª—è)",
                        description: "–©–∞–¥—è—â–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–π —Ä—É–∫–µ, –ø–∞—Å—Å–∏–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞",
                        goals: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ —Å—É—Å—Ç–∞–≤–æ–≤, –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É—Ä",
                        precautions: "–ò–∑–±–µ–≥–∞–π—Ç–µ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π, –Ω–µ –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞–π—Ç–µ –±–æ–ª–µ–≤–æ–π –±–∞—Ä—å–µ—Ä"
                    },
                    3: {
                        name: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (7-12 –Ω–µ–¥–µ–ª—è)",
                        description: "–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –º–∞–ª—ã–º —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º",
                        goals: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–ª—ã –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏, —É–ª—É—á—à–µ–Ω–∏–µ –º–µ–ª–∫–æ–π –º–æ—Ç–æ—Ä–∏–∫–∏",
                        precautions: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å –æ—Ç–µ–∫–∞"
                    },
                    4: {
                        name: "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (13+ –Ω–µ–¥–µ–ª—è)",
                        description: "–°–∏–ª–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
                        goals: "–ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä—É–∫–∏, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ –±—ã—Ç–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
                        precautions: "–ò–∑–±–µ–≥–∞–π—Ç–µ —á—Ä–µ–∑–º–µ—Ä–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ—Ö–Ω–∏–∫–æ–π"
                    }
                }
            },
            stroke: {
                name: "–ü–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞",
                icon: "üß†",
                stages: {
                    1: {
                        name: "–†–∞–Ω–Ω–∏–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π (1-3 –º–µ—Å—è—Ü)",
                        description: "–ü–∞—Å—Å–∏–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
                        goals: "–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –æ—Å–ª–æ–∂–Ω–µ–Ω–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –º—ã—à–µ—á–Ω–æ–≥–æ —Ç–æ–Ω—É—Å–∞",
                        precautions: "–ö–æ–Ω—Ç—Ä–æ–ª—å –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è, –∏–∑–±–µ–≥–∞–π—Ç–µ –ø–µ—Ä–µ—É—Ç–æ–º–ª–µ–Ω–∏—è"
                    },
                    2: {
                        name: "–ü–æ–∑–¥–Ω–∏–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π (4-6 –º–µ—Å—è—Ü)",
                        description: "–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Å–∏–¥—è",
                        goals: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π, —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏",
                        precautions: "–û–±–µ—Å–ø–µ—á—å—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É"
                    },
                    3: {
                        name: "–ü–µ—Ä–∏–æ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (7-12 –º–µ—Å—è—Ü)",
                        description: "–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, —Ö–æ–¥—å–±–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π, –±—ã—Ç–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏",
                        goals: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –±—ã—Ç—É, —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ—Ö–æ–¥–∫–∏",
                        precautions: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–π—Ç–µ –ø–∞–¥–µ–Ω–∏—è"
                    },
                    4: {
                        name: "–ê–¥–∞–ø—Ç–∞—Ü–∏—è (12+ –º–µ—Å—è—Ü)",
                        description: "–°–ª–æ–∂–Ω–æ–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏—è",
                        goals: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏",
                        precautions: "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"
                    }
                }
            }
        };

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏
        const exercises = {
            // –ü–µ—Ä–µ–ª–æ–º –Ω–æ–≥–∏
            leg: [
                {
                    id: 'ankle_pumps',
                    name: '–ù–∞—Å–æ—Å—ã –≥–æ–ª–µ–Ω–æ—Å—Ç–æ–ø–∞',
                    icon: 'üë£',
                    description: '–°–≥–∏–±–∞–Ω–∏–µ –∏ —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ —Å—Ç–æ–ø—ã',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–°–∏–¥—è –∏–ª–∏ –ª–µ–∂–∞, –º–µ–¥–ª–µ–Ω–Ω–æ —Ç—è–Ω–∏—Ç–µ –Ω–æ—Å–æ–∫ –Ω–∞ —Å–µ–±—è, –∑–∞—Ç–µ–º –æ—Ç —Å–µ–±—è. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ 10-15 —Ä–∞–∑.',
                    benefits: '–£–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–æ–º–±–æ–∑'
                },
                {
                    id: 'quad_sets',
                    name: '–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å–∞',
                    icon: 'üí™',
                    description: '–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–Ω–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –±–µ–¥—Ä–∞',
                    stage: 1,
                    difficulty: 'easy', 
                    instructions: '–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –Ω–∞–ø—Ä—è–≥–∏—Ç–µ –º—ã—à—Ü—ã –ø–µ—Ä–µ–¥–Ω–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –±–µ–¥—Ä–∞, —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ 5 —Å–µ–∫—É–Ω–¥.',
                    benefits: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º—ã—à–µ—á–Ω—ã–π —Ç–æ–Ω—É—Å –±–µ–¥—Ä–∞'
                },
                {
                    id: 'straight_leg_raise',
                    name: '–ü–æ–¥—ä–µ–º –ø—Ä—è–º–æ–π –Ω–æ–≥–∏',
                    icon: '‚¨ÜÔ∏è',
                    description: '–ü–æ–¥—ä–µ–º –Ω–æ–≥–∏ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –ª–µ–∂–∞',
                    stage: 2,
                    difficulty: 'medium',
                    instructions: '–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–¥–Ω–∏–º–∏—Ç–µ –ø—Ä—è–º—É—é –Ω–æ–≥—É –Ω–∞ 45 –≥—Ä–∞–¥—É—Å–æ–≤, —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ 3 —Å–µ–∫—É–Ω–¥—ã.',
                    benefits: '–£–∫—Ä–µ–ø–ª—è–µ—Ç –º—ã—à—Ü—ã –±–µ–¥—Ä–∞ –∏ —Ç–∞–∑–∞'
                },
                {
                    id: 'mini_squats',
                    name: '–ú–∏–Ω–∏-–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è',
                    icon: 'ü™ë',
                    description: '–ù–µ–≥–ª—É–±–æ–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –æ–ø–æ—Ä–æ–π',
                    stage: 3,
                    difficulty: 'medium',
                    instructions: '–î–µ—Ä–∂–∞—Å—å –∑–∞ —Å—Ç—É–ª, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–≥–ª—É–±–æ–∫–æ–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ (30-45 –≥—Ä–∞–¥—É—Å–æ–≤).',
                    benefits: '–£–∫—Ä–µ–ø–ª—è–µ—Ç –º—ã—à—Ü—ã –±–µ–¥–µ—Ä –∏ —è–≥–æ–¥–∏—Ü'
                }
            ],
            
            // –ü–µ—Ä–µ–ª–æ–º —Ä—É–∫–∏
            arm: [
                {
                    id: 'finger_flexion',
                    name: '–°–≥–∏–±–∞–Ω–∏–µ –ø–∞–ª—å—Ü–µ–≤',
                    icon: '‚úã',
                    description: '–ü–æ–æ—á–µ—Ä–µ–¥–Ω–æ–µ —Å–≥–∏–±–∞–Ω–∏–µ –ø–∞–ª—å—Ü–µ–≤',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–ó–¥–æ—Ä–æ–≤–æ–π —Ä—É–∫–æ–π –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å–≥–∏–±–∞–π—Ç–µ –∏ —Ä–∞–∑–≥–∏–±–∞–π—Ç–µ –∫–∞–∂–¥—ã–π –ø–∞–ª–µ—Ü –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–π —Ä—É–∫–∏.',
                    benefits: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –ø–∞–ª—å—Ü–µ–≤, —É–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ'
                },
                {
                    id: 'wrist_circles',
                    name: '–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∏—Å—Ç—å—é',
                    icon: 'üîÑ',
                    description: '–í—Ä–∞—â–µ–Ω–∏–µ –∫–∏—Å—Ç—å—é –∑–¥–æ—Ä–æ–≤–æ–π —Ä—É–∫–∏',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∏—Å—Ç—å—é –∑–¥–æ—Ä–æ–≤–æ–π —Ä—É–∫–∏ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã.',
                    benefits: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –ª—É—á–µ–∑–∞–ø—è—Å—Ç–Ω–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞'
                },
                {
                    id: 'elbow_flexion',
                    name: '–°–≥–∏–±–∞–Ω–∏–µ –ª–æ–∫—Ç—è',
                    icon: '‚ÜîÔ∏è',
                    description: '–ü–∞—Å—Å–∏–≤–Ω–æ–µ —Å–≥–∏–±–∞–Ω–∏–µ –ª–æ–∫—Ç–µ–≤–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞',
                    stage: 2,
                    difficulty: 'easy',
                    instructions: '–° –ø–æ–º–æ—â—å—é –∑–¥–æ—Ä–æ–≤–æ–π —Ä—É–∫–∏ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å–≥–∏–±–∞–π—Ç–µ –∏ —Ä–∞–∑–≥–∏–±–∞–π—Ç–µ –ª–æ–∫–æ—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–π —Ä—É–∫–∏.',
                    benefits: '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –ª–æ–∫—Ç–µ–≤–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞'
                },
                {
                    id: 'shoulder_circles',
                    name: '–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–æ–º',
                    icon: '‚≠ï',
                    description: '–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –≤—Ä–∞—â–µ–Ω–∏—è –ø–ª–µ—á–µ–≤—ã–º —Å—É—Å—Ç–∞–≤–æ–º',
                    stage: 2,
                    difficulty: 'medium',
                    instructions: '–°—Ç–æ—è –∏–ª–∏ —Å–∏–¥—è, –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–æ–º –≤–ø–µ—Ä–µ–¥ –∏ –Ω–∞–∑–∞–¥.',
                    benefits: '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –ø–ª–µ—á–µ–≤–æ–≥–æ —Å—É—Å—Ç–∞–≤–∞'
                },
                {
                    id: 'grip_strength',
                    name: '–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ö–≤–∞—Ç–∞',
                    icon: 'üóúÔ∏è',
                    description: '–°–∂–∞—Ç–∏–µ –º—è–≥–∫–æ–≥–æ –º—è—á–∏–∫–∞',
                    stage: 3,
                    difficulty: 'medium',
                    instructions: '–ú—è–≥–∫–æ —Å–∂–∏–º–∞–π—Ç–µ –∏ —Ä–∞–∑–∂–∏–º–∞–π—Ç–µ –º—è–≥–∫–∏–π –º—è—á–∏–∫ –∏–ª–∏ –ø–æ—Ä–æ–ª–æ–Ω–æ–≤—É—é –≥—É–±–∫—É.',
                    benefits: '–£–∫—Ä–µ–ø–ª—è–µ—Ç –º—ã—à—Ü—ã –ø—Ä–µ–¥–ø–ª–µ—á—å—è –∏ –∫–∏—Å—Ç–∏'
                },
                {
                    id: 'arm_raises',
                    name: '–ü–æ–¥—ä–µ–º—ã —Ä—É–∫–∏',
                    icon: '‚¨ÜÔ∏è',
                    description: '–ü–æ–¥—ä–µ–º —Ä—É–∫–∏ –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π –∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã',
                    stage: 3,
                    difficulty: 'medium',
                    instructions: '–ú–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ —Ä—É–∫—É –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π –¥–æ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á, –∑–∞—Ç–µ–º –≤ —Å—Ç–æ—Ä–æ–Ω—ã.',
                    benefits: '–£–∫—Ä–µ–ø–ª—è–µ—Ç –¥–µ–ª—å—Ç–æ–≤–∏–¥–Ω—ã–µ –º—ã—à—Ü—ã'
                }
            ],
            
            // –ü–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞
            stroke: [
                {
                    id: 'breathing_exercises',
                    name: '–î—ã—Ö–∞—Ç–µ–ª—å–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞',
                    icon: 'üå¨Ô∏è',
                    description: '–ì–ª—É–±–æ–∫–æ–µ –¥–∏–∞—Ñ—Ä–∞–≥–º–∞–ª—å–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –º–µ–¥–ª–µ–Ω–Ω–æ –≤–¥—ã—Ö–∞–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–æ—Å, –≤—ã–¥—ã—Ö–∞–π—Ç–µ —á–µ—Ä–µ–∑ —Ä–æ—Ç. –†—É–∫–∞ –Ω–∞ –∂–∏–≤–æ—Ç–µ.',
                    benefits: '–£–ª—É—á—à–∞–µ—Ç –æ–∫—Å–∏–≥–µ–Ω–∞—Ü–∏—é, —Å–Ω–∏–∂–∞–µ—Ç –º—ã—à–µ—á–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ'
                },
                {
                    id: 'passive_movements',
                    name: '–ü–∞—Å—Å–∏–≤–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è',
                    icon: 'üîÑ',
                    description: '–î–≤–∏–∂–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –¥–≤–∏–≥–∞–µ—Ç –≤–∞—à–∏–º–∏ –∫–æ–Ω–µ—á–Ω–æ—Å—Ç—è–º–∏ –≤–æ –≤—Å–µ—Ö —Å—É—Å—Ç–∞–≤–∞—Ö.',
                    benefits: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å —Å—É—Å—Ç–∞–≤–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É—Ä—ã'
                },
                {
                    id: 'mental_practice',
                    name: '–ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞',
                    icon: 'üß†',
                    description: '–ú—ã—Å–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π',
                    stage: 1,
                    difficulty: 'easy',
                    instructions: '–ó–∞–∫—Ä–æ–π—Ç–µ –≥–ª–∞–∑–∞ –∏ –º—ã—Å–ª–µ–Ω–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π—Ç–µ, –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è.',
                    benefits: '–ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã –º–æ–∑–≥–∞'
                },
                {
                    id: 'sitting_balance',
                    name: '–ë–∞–ª–∞–Ω—Å —Å–∏–¥—è',
                    icon: 'ü™ë',
                    description: '–£–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Å–∏–¥—è',
                    stage: 2,
                    difficulty: 'medium',
                    instructions: '–°–∏–¥—è –Ω–∞ –∫—Ä–∞—é –∫—Ä–æ–≤–∞—Ç–∏, —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫—É.',
                    benefits: '–£–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç—É–ª–æ–≤–∏—â–∞, –≥–æ—Ç–æ–≤–∏—Ç –∫ —Ö–æ–¥—å–±–µ'
                },
                {
                    id: 'arm_support',
                    name: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É–∫–∏',
                    icon: 'ü§≤',
                    description: '–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π',
                    stage: 2,
                    difficulty: 'medium',
                    instructions: '–° –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ—Ä–∞–∂–µ–Ω–Ω–æ–π —Ä—É–∫–æ–π.',
                    benefits: '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ—Ä–≤–Ω–æ-–º—ã—à–µ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å'
                },
                {
                    id: 'weight_shifting',
                    name: '–ü–µ—Ä–µ–Ω–æ—Å –≤–µ—Å–∞',
                    icon: '‚öñÔ∏è',
                    description: '–ü–µ—Ä–µ–Ω–æ—Å –≤–µ—Å–∞ —Ç–µ–ª–∞ —Å –Ω–æ–≥–∏ –Ω–∞ –Ω–æ–≥—É',
                    stage: 3,
                    difficulty: 'medium',
                    instructions: '–°—Ç–æ—è —Å –æ–ø–æ—Ä–æ–π, –º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –≤–µ—Å —Ç–µ–ª–∞ —Å –æ–¥–Ω–æ–π –Ω–æ–≥–∏ –Ω–∞ –¥—Ä—É–≥—É—é.',
                    benefits: '–£–ª—É—á—à–∞–µ—Ç –±–∞–ª–∞–Ω—Å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é'
                },
                {
                    id: 'fine_motor',
                    name: '–ú–µ–ª–∫–∞—è –º–æ—Ç–æ—Ä–∏–∫–∞',
                    icon: '‚úã',
                    description: '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –ø–∞–ª—å—Ü–µ–≤ –∏ –∫–∏—Å—Ç–∏',
                    stage: 3,
                    difficulty: 'hard',
                    instructions: '–ü–µ—Ä–µ–±–∏—Ä–∞–π—Ç–µ –º–µ–ª–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã, —Å–∂–∏–º–∞–π—Ç–µ –º—è–≥–∫–∏–µ –º—è—á–∏–∫–∏, —Ä–∏—Å—É–π—Ç–µ.',
                    benefits: '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–Ω–∫–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∏—Å—Ç–∏'
                },
                {
                    id: 'gait_training',
                    name: '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Ö–æ–¥—å–±—ã',
                    icon: 'üö∂',
                    description: '–û–±—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ö–æ–¥—å–±–µ',
                    stage: 4,
                    difficulty: 'hard',
                    instructions: '–ü–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —Ö–æ–¥—å–±—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π.',
                    benefits: '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ö–æ–¥—å–±—ã'
                }
            ]
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–∞–ø–æ–≤ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏
        function initializeStages() {
            rehabStages.innerHTML = '';
            const stages = rehabTypes[state.currentRehabType].stages;
            
            for (let i = 1; i <= 4; i++) {
                const stage = stages[i];
                const stageElement = document.createElement('div');
                stageElement.className = `stage ${i === state.currentStage ? 'active' : ''}`;
                stageElement.innerHTML = `
                    <div class="stage-number">${i}</div>
                    <div>${stage.name.split(' ')[0]}<br>${stage.name.split(' ').slice(1).join(' ')}</div>
                `;
                stageElement.addEventListener('click', () => selectStage(i));
                rehabStages.appendChild(stageElement);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        function initializeExercises() {
            exercisesGrid.innerHTML = '';
            const typeExercises = exercises[state.currentRehabType] || [];
            const stageExercises = typeExercises.filter(ex => ex.stage === state.currentStage);
            
            if (stageExercises.length === 0) {
                exercisesGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 20px; color: #666;">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>';
                return;
            }
            
            stageExercises.forEach(exercise => {
                const card = document.createElement('div');
                card.className = 'exercise-card';
                card.innerHTML = `
                    <div class="exercise-icon">${exercise.icon}</div>
                    <div><strong>${exercise.name}</strong></div>
                    <div style="font-size: 0.8em; color: #666;">${exercise.description}</div>
                    <div class="exercise-difficulty ${exercise.difficulty}">
                        ${exercise.difficulty === 'easy' ? '–ª–µ–≥–∫–æ' : exercise.difficulty === 'medium' ? '—Å—Ä–µ–¥–Ω–µ' : '—Å–ª–æ–∂–Ω–æ'}
                    </div>
                `;
                card.addEventListener('click', () => selectExercise(exercise));
                exercisesGrid.appendChild(card);
            });
        }

        // –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏
        function selectRehabType(type) {
            state.currentRehabType = type;
            state.currentStage = 1;
            state.currentExercise = null;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞
            document.querySelectorAll('.rehab-type').forEach(rehabType => {
                rehabType.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
            updateMedicalAlert();
            
            initializeStages();
            selectStage(1);
            
            const rehabType = rehabTypes[type];
            addToLog(`–í—ã–±—Ä–∞–Ω —Ç–∏–ø —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏: ${rehabType.name}`, 'success');
        }

        // –í—ã–±–æ—Ä —ç—Ç–∞–ø–∞ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏
        function selectStage(stageNumber) {
            state.currentStage = stageNumber;
            state.currentExercise = null;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç—Ç–∞–ø–∞
            document.querySelectorAll('.stage').forEach((stage, index) => {
                stage.classList.toggle('active', index === stageNumber - 1);
            });
            
            const stage = rehabTypes[state.currentRehabType].stages[stageNumber];
            stageInfo.innerHTML = `<strong>${stage.name}:</strong> ${stage.description}`;
            currentProgramDisplay.textContent = `${rehabTypes[state.currentRehabType].name} - ${stage.name}`;
            stageGoalsDisplay.textContent = `–¶–µ–ª–∏: ${stage.goals}`;
            
            initializeExercises();
            addToLog(`–í—ã–±—Ä–∞–Ω —ç—Ç–∞–ø: ${stage.name}`, 'success');
            updateLiveFeedback(`–≠—Ç–∞–ø ${stageNumber}: ${stage.description}`);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
        function updateMedicalAlert() {
            const alerts = {
                leg: "‚ö†Ô∏è –ü—Ä–∏ –ø–µ—Ä–µ–ª–æ–º–µ –Ω–æ–≥–∏ –∏–∑–±–µ–≥–∞–π—Ç–µ –æ—Å–µ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Ä–∞—á–∞!",
                arm: "‚ö†Ô∏è –ü—Ä–∏ –ø–µ—Ä–µ–ª–æ–º–µ —Ä—É–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ–ª—å!",
                stroke: "‚ö†Ô∏è –ü–æ—Å–ª–µ –∏–Ω—Å—É–ª—å—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å!"
            };
            medicalAlert.textContent = alerts[state.currentRehabType];
        }

        // [–û–°–¢–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –ê–ù–ê–õ–û–ì–ò–ß–ù–ê –ü–†–ï–î–´–î–£–©–ï–ô –í–ï–†–°–ò–ò...]
        // –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–≤–ª—é –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

        // –í—ã–±–æ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
        function selectExercise(exercise) {
            state.currentExercise = exercise;
            
            document.querySelectorAll('.exercise-card').forEach(card => {
                card.classList.remove('active');
            });
            
            event.currentTarget.classList.add('active');
            
            addToLog(`–í—ã–±—Ä–∞–Ω–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ: ${exercise.name}`, 'success');
            updateLiveFeedback(`<strong>${exercise.name}</strong><br>${exercise.instructions}`);
            
            if (state.isCameraOn) {
                analysisBtn.disabled = false;
            }
        }

        // –í–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { width: 640, height: 480 } 
                });
                video.srcObject = stream;
                state.isCameraOn = true;
                cameraBtn.textContent = 'üì∑ –ö–∞–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞';
                cameraBtn.disabled = true;
                cameraBtn.style.background = '#00a085';
                
                if (state.currentExercise) {
                    analysisBtn.disabled = false;
                }
                
                addToLog('–ö–∞–º–µ—Ä–∞ —É—Å–ø–µ—à–Ω–æ –≤–∫–ª—é—á–µ–Ω–∞', 'success');
                updateLiveFeedback('–ö–∞–º–µ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–∞. –í—ã–±–µ—Ä–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –∏ –Ω–∞—á–Ω–∏—Ç–µ –∞–Ω–∞–ª–∏–∑.');
                
            } catch (error) {
                addToLog('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ', 'error');
                updateLiveFeedback('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.');
            }
        }

        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è...
        function toggleAnalysis() {
            if (!state.isAnalyzing) {
                startAnalysis();
            } else {
                stopAnalysis();
            }
        }

        function startAnalysis() {
            if (!state.currentExercise) {
                updateLiveFeedback('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ!', 'error');
                return;
            }

            state.isAnalyzing = true;
            state.startTime = Date.now();
            state.repetitions = 0;
            state.accuracy = 0;
            
            analysisBtn.textContent = '‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑';
            analysisBtn.style.background = '#e17055';
            
            startTimer();
            simulateRehabAnalysis();
            
            addToLog(`–ù–∞—á–∞—Ç –∞–Ω–∞–ª–∏–∑: ${state.currentExercise.name}`, 'success');
            updateLiveFeedback(`–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é: ${state.currentExercise.name}. ${state.currentExercise.instructions}`);
        }

        function stopAnalysis() {
            state.isAnalyzing = false;
            
            analysisBtn.textContent = '‚èØÔ∏è –ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑';
            analysisBtn.style.background = '#00b894';
            
            stopTimer();
            
            addToLog(`–ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –í—ã–ø–æ–ª–Ω–µ–Ω–æ ${state.repetitions} –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π`, 'warning');
            updateLiveFeedback('–ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –¢–æ—á–Ω–æ—Å—Ç—å: ' + state.accuracy + '%');
        }

        function startTimer() {
            state.timerInterval = setInterval(() => {
                state.sessionDuration++;
                const minutes = Math.floor(state.sessionDuration / 60);
                const seconds = state.sessionDuration % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                durationDisplay.textContent = timerDisplay.textContent;
            }, 1000);
        }

        function stopTimer() {
            clearInterval(state.timerInterval);
        }

        function simulateRehabAnalysis() {
            if (!state.isAnalyzing) return;

            const analysisInterval = setInterval(() => {
                if (!state.isAnalyzing) {
                    clearInterval(analysisInterval);
                    return;
                }

                const exercise = state.currentExercise;
                if (!exercise) return;

                const feedbacks = [
                    "‚úÖ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!",
                    "‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–µ—Ö–Ω–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –î–≤–∏–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–ª–∞–≤–Ω—ã–º–∏.",
                    "‚úÖ –û—Ç–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–≤–∏–∂–µ–Ω–∏–π! –¢–µ–º–ø –∏ –∞–º–ø–ª–∏—Ç—É–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º.",
                    "‚ùå –°–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä—ã–π —Ç–µ–º–ø. –ó–∞–º–µ–¥–ª–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è."
                ];
                
                const randomFeedback = feedbacks[Math.floor(Math.random() * feedbacks.length)];
                const newAccuracy = 70 + Math.floor(Math.random() * 30);
                const shouldIncrementRepetition = Math.random() > 0.5;

                if (shouldIncrementRepetition) {
                    state.repetitions++;
                    repetitionsDisplay.textContent = state.repetitions;
                }

                state.accuracy = newAccuracy;
                accuracyDisplay.textContent = newAccuracy + '%';
                progressBar.style.width = newAccuracy + '%';

                updateLiveFeedback(randomFeedback);
                addToLog(randomFeedback, newAccuracy > 80 ? 'success' : newAccuracy > 60 ? 'warning' : 'error');
                
            }, 3000);
        }

        function updateLiveFeedback(message) {
            liveFeedback.innerHTML = message;
        }

        function addToLog(message, type = 'info') {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `
                <span class="${type}">${type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ùå'}</span>
                <span>${new Date().toLocaleTimeString()} - ${message}</span>
            `;
            feedbackLog.prepend(logEntry);
            
            if (feedbackLog.children.length > 8) {
                feedbackLog.removeChild(feedbackLog.lastChild);
            }
        }

        function showInstructions() {
            if (state.currentExercise) {
                const exercise = state.currentExercise;
                alert(`–ò–ù–°–¢–†–£–ö–¶–ò–Ø: ${exercise.name}\n\n${exercise.instructions}\n\n–ü–æ–ª—å–∑–∞: ${exercise.benefits}`);
            } else {
                alert("–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏");
            }
        }

        function showPrecautions() {
            const stage = rehabTypes[state.currentRehabType].stages[state.currentStage];
            alert(`–ú–ï–†–´ –ü–†–ï–î–û–°–¢–û–†–û–ñ–ù–û–°–¢–ò:\n\n${stage.precautions}\n\n${medicalAlert.textContent}`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            selectRehabType('leg'); // –ù–∞—á–∏–Ω–∞–µ–º —Å —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –Ω–æ–≥–∏
            addToLog('–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
        };
    </script>
</body>
</html>
